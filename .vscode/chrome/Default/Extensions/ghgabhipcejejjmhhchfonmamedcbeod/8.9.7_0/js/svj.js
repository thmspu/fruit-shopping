// Click&Clean for Google Chrome - HOTCLEANER.COM - Copyright (c) 2017 Vlad & Serge Strukoff. All Rights Reserved.
(function(){function D(a){a:{for(var c=a.u,d=[chrome.runtime.getURL(""),"https://www.hotcleaner.com/","http://www.hotcleaner.com/","https://hotcleaner.com/","http://hotcleaner.com/"],b=0,e=d.length;b<e;b++)if(0==c.indexOf(d[b]))break a;document.location.href="about:blank"}t=a.v;z=a.t;a=f("timeInput");c=chrome.i18n.getMessage("history").split(";");calInit(a,0,0,A);a=f("refresh");a.title=c[1];a.addEventListener("click",A,!1);a=f("selAll");a.checked=!1;a.title=c[2];a.addEventListener("click",E,!1);a=
f("delSel");a.title=c[3];a.addEventListener("click",F,!1);a=f("filter");a.placeholder=c[0];a.addEventListener("change",u,!1);a.addEventListener("keyup",u,!1);a=f("save");a.title=c[5];a.addEventListener("click",G,!1)}function F(a){function c(){l+=2;l<e.length?chrome.runtime.sendMessage(JSON.stringify({id:11,v:{startTime:e[l],endTime:e[l+1]}}),c):p(0)}p(1);a=f("tab");var d=a.getElementsByClassName("item"),b=a.getElementsByClassName("chk"),e=[],k=[],g,h,l=d.length-1,m=0;for(g=l;-1<l;l--)g=d[l],h=b[l],
-1<g.className.indexOf("nvw")?m&&(m=0,e.push(h.time-1)):h.checked?(k.push(g),m||(m=1,e.push(h.time-1))):m&&(m=0,e.push(h.time-1));for(g=0;g<k.length;g++)a.removeChild(k[g]);m&&e.push(h.time+1);l=-2;c()}function E(a){a=this.checked;var c=f("tab");B(a,c.firstElementChild,c.lastElementChild);this.checked=!a}function B(a,c,d){if(c&&d){var b=c,e="item"+(a?" itemSel":"");c.index>d.index&&(b=d,d=c);for(;b&&b.index<=d.index;){if(!b||0>b.className.split(" ").indexOf("nvw"))b.firstElementChild.firstElementChild.checked=
a,b.className=e;b=b.nextElementSibling}}}function H(){var a=f("tab"),c=a.getElementsByClassName("item"),a=a.getElementsByClassName("chk"),d,b,e,k;d=t.timeType;k=10==d?0:0==d?z:9==d?t.time:(new Date).getTime()-36E5*[0,1,2,4,8,10,12,24,168][d];for(var g=0;g<c.length;g++)if(d=c[g],b=a[g],!d||0>d.className.split(" ").indexOf("nvw"))e=b.time<k?!1:!0,b.checked=e,d.className="item"+(e?" itemSel":"")}function u(){var a=f("filter").value;if(v!=a){v=a;for(var c=f("tab").getElementsByClassName("hLink"),d,b,
e,k=new RegExp(a,"i"),g=0;g<c.length;g++)if(d=c[g],1>a.length||d.textContent.match(k)?(b="nvw",e="dbk"):(b="dbk",e="nvw"),d=d.parentElement)w(d,b),x(d,e)}}function I(a){var c=this.parentElement.parentElement;a.shiftKey?(0>q&&(q=f("tab").firstElementChild),B(this.checked,c,q)):c.className="item"+(this.checked?" itemSel":"");q=c}function J(a,c){function d(a){g=document.createElement("button");g.className=a;f.appendChild(g);g.addEventListener("click",K,!1)}var b,e,k,g,h,l,m,f=document.createElement("div");
f.index=c;f.className="item";b=document.createElement("input");b.time=a.time;b.type="checkbox";b.checked=!1;b.className="chk histChk";b.addEventListener("click",I,!1);h=new Date(a.time);l=h.getMilliseconds();h=h.toTimeString().split(":");m=12>h[0]?"AM":"PM";h[2]=h[2].slice(0,2);e=document.createElement("label");e.className="histLabel";e.appendChild(b);e.appendChild(document.createTextNode(h[0]+":"+h[1]+" "+m));e.title=h[0]+":"+h[1]+":"+h[2]+":"+l;f.appendChild(e);k=document.createElement("img");k.className=
"hIcon";f.appendChild(k);b=document.createElement("a");b.className="hLink elps";chrome.runtime.sendMessage(JSON.stringify({id:5,v:"chrome://favicon/"+a.url}),function(a){k.onload=function(){window.URL.revokeObjectURL(a)};k.src=a});b.href=a.url;b.title="Transition type: "+a.transition;b.target="_blank";b.appendChild(document.createTextNode(a.label));f.appendChild(b);d("ginfo");d("bing");d("build");return f}function L(a){a.sort(function(a,b){return b.time-a.time});for(var c=document.createDocumentFragment(),
d,b=0;b<a.length;b++)(d=J(a[b],b))&&c.appendChild(d);f("tab").appendChild(c);u();H();p(0)}function M(a){function c(b){for(var c=0;c<b.length;c++)k=b[c],k.visitTime>r&&k.visitTime<y&&(h={url:a[e].url,time:k.visitTime,label:a[e].title?a[e].title:a[e].url,transition:k.transition},g.push(h));e++;setTimeout(d,0)}function d(){e<a.length?chrome.runtime.sendMessage(JSON.stringify({id:13,v:{url:a[e].url}}),c):L(g)}if(1>a.length){var b=chrome.i18n.getMessage("history").split(";");f("tab").innerHTML='<p class="margin10">'+
b[4]+"</p>";p(0)}else{var e=0,k,g=[],h;d()}}function A(){p(1);f("tab").innerHTML=v="";r=parseInt(f("timeInput").getAttribute("data-time"));y=r+864E5;chrome.runtime.sendMessage(JSON.stringify({id:10,v:{url:"https://www.hotcleaner.com/clear-browsing-history.html"}}),function(){chrome.runtime.sendMessage(JSON.stringify({id:10,v:{url:chrome.runtime.getURL("bNgD.html")}}),function(){chrome.runtime.sendMessage(JSON.stringify({id:12,v:{text:"",startTime:r,endTime:y,maxResults:9999}}),M)})})}function K(a){a=
this.className;var c=this.parentElement.getElementsByClassName("hLink")[0].href,d;"ginfo"==a?d="http://www.google.com/webhp?#q="+C(c):"bing"==a?d="http://www.bing.com/search?q="+C(c):"build"==a&&(d="http://builtwith.com/?"+encodeURIComponent(c));chrome.runtime.sendMessage(JSON.stringify({id:9,v:d}))}function C(a){var c=a.indexOf("://"),d=a.indexOf("/",c+3);return a.slice(c+3,d)}function p(a){var c=f("shade");a?c&&(w(c,"nvw"),x(c,"dbk")):c&&(w(c,"dbk"),x(c,"nvw"))}function N(a){function c(){d<a.length?
(f=a[d],b=new Date(f.time),g=b.getDay(),g!=k&&(0<d&&(n+="</div>"),n+='<div class="date"><b>&#9662;</b> '+q[g]+", "+r[b.getMonth()]+" "+b.getDate()+", "+b.getFullYear()+'</div><div class="items">'),k=g,e=b.getMilliseconds(),b=b.toTimeString().split(":"),h=12>b[0]?"AM":"PM",b[2]=b[2].slice(0,2),d++,chrome.runtime.sendMessage(JSON.stringify({id:5,v1:1,v:"chrome://favicon/"+f.url}),function(a){n+='<div class="item"><span class="time" title="'+(b[0]+":"+b[1]+":"+b[2]+":"+e)+'">'+(b[0]+":"+b[1]+" "+h)+
'</span><a class="label" style="background-image: url('+a+')" href="'+f.url+'" title="'+f.url+'" target="_blank">'+f.label+"</a></div>";setTimeout(c,0)})):(n+='</div><div id="ftr"></div><div id="sidebar"><div class="box"><h1>Browsing History</h1><div>Date generated</div><small>'+(new Date).toLocaleString()+'</small></div><div class="hr"></div><div class="box"><h2>Connect</h2>&#9642; <a href="https://www.hotcleaner.com">Hotcleaner</a><br/>&#9642; <a href="https://www.hotcleaner.com/security-and-privacy-software-feedback.html" title="If you have any questions, ideas or suggestions, please feel free to contact us!">Support</a><br/>&#9642; <a href="https://www.facebook.com/clickclean" title="Join us on Facebook">Facebook</a><br/>&#9642; <a href="https://twitter.com/intent/user?screen_name=clickclean" title="Follow us on Twitter">Twitter</a><br/>&#9642; <a href="https://plus.google.com/share?url='+
m+'" title="Follow us on Google+">Google+</a><br/>&#9642; <a href="http://youtube.com/subscription_center?add_user=YTMoo" title="Subscribe to our YouTube channel">YouTube</a></div></div></div></body></html>',O(n),p(0))}a.sort(function(a,b){return b.time-a.time});var d=0,b,e,k,g,h,f,m=encodeURIComponent("https://www.hotcleaner.com"),n='<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>Browsing History</title><link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAN1wAADdcBQiibeAAAAAd0SU1FB9oDBwAVAJKzMZQAAAJoSURBVDjLlZI7aJVBEIW/3bv/TUxyiYZ0FhECAREMXFRisBa0S20aC1EbFXyAaGEhGHw0VrFId7UQRMFCm5AgiKISDKIEX2gRbIIajf9jd3bH4kajZaYbmDnMd+aY05fuHHFZ7XLN2gbrqJjSTwnxjHPOTvz65RtBwnr2yVzW6O7KJpwxpnclL7HWAJA04b2QEohEAFSVjg5Hve6wxgJQ+ZKe7nqvU1V8CNSsRSRRlBW7mwMcP7iXLbsPs/h8im/LK0zdfsSTuc9s6OzAOUtMCVXFqULwCbGJnysl54/tY2R4EICyamNt6u3h1KH9PJ3/wMXrD2j0dKIJVMGqKkEieR4YbQ4wMjxIiPIfbxUCIQojw4OMNgfI80CQiKq2BUoRlouC8bFRfBC8b7Nb2+ZNUfE+4oMwPjbKclFQiqwJSIj4wtPf1yCvAl4iokq9njH9+BXULCEm8irQ39fAFx4JqxckBR8CXoTSB6JEJETyvOLGxBGOnp9i+tE8BkOUSOnbsz4E0h8PvCTUWN68WwRVRCJFUbFnx1aunD3AuSstogio8ubdImpse+cvgo84LJOtGTAGUaX0wo+8ZFdziIetC/iYwBgmWzM4LOL/MdGnSLKJ+YUvTN6cJXM1rLUkUapSEEkATN6cZX7hC8kmfIprORCfsFkNZzJu3XvBs5cfGR8bYdvQZgBev12kdfcp7z99pZ5lJAEJCVVoJ1EEDBgDNjO8/bzE2av3kdU8uJojcwaX1YgmIQJ+9Y1OVec2NjqbS99zzL/pMeCc+9sGUYK0BRXo39iFqs45VT2xa/uWa8BO1lfPVfXkbymMk1S9jJaDAAAAAElFTkSuQmCC"><style>*{margin:0;padding:0}html,body{height:100%}body{font:400 13px/1.231 \'Segoe UI\',Tahoma,Helvetica,\'Helvetica Neue\',Arial,sans-serif;color:#303942;background-color:#fff;cursor:default}h1,h2{color:#000;font-weight:400;margin-bottom:9px}h1{font-size:20px}h2{font-size:16px}a{text-decoration:none}a:hover{text-decoration:underline}.box a{color:#E80000}#page{height:100%;padding:0 20px;border-left:194px solid #f3f3f3}.date{font-size:22px;padding:16px 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.items{position:relative;border-bottom:1px solid #c0c4c9;overflow:hidden;-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;-ms-transition:.2s;transition:.2s}.item{position:relative;padding:6px 0;border-bottom:1px solid #eaeef3;overflow:hidden}.time{position:absolute;left:0;top:6px;color:#909499;white-space:nowrap}.label{display:inline-block;padding-left:92px;background-position:70px 0;background-repeat:no-repeat;_padding-left:66px;*padding-left:66px}#ftr{height:72px}#sidebar{position:fixed;_position:absolute;left:0;top:0;width:193px;height:100%;line-height:18px;color:#999;background-color:#f5f5f5;border-right:1px solid #e3e3e3}.box,.hr{margin:9px 12px}.hr{border-top:1px solid #d9d9d9}.box h1+div,.box small{line-height:13px}</style><script type="text/javascript">window.onload=function(){for(var c=document.getElementById("page").childNodes,b=0,a;a=c[b];b++)1==a.nodeType&&"date"==a.className&&(a.nextSibling.style.height="0px",a.onclick=function(){var a=this.nextSibling;a.style.height=12<a.offsetHeight?"0px":a.scrollHeight+"px"})};\x3c/script></head><body><div id="page">',
q=chrome.i18n.getMessage("days").split(";"),r=chrome.i18n.getMessage("months").split(";");c()}function P(a){function c(b){for(var c=0;c<b.length;c++)k=b[c],h={url:a[e].url,time:k.visitTime,label:a[e].title?a[e].title:a[e].url},g.push(h);e++;d()}function d(){e<a.length?chrome.runtime.sendMessage(JSON.stringify({id:13,v:{url:a[e].url}}),c):N(g)}if(1>a.length){var b=chrome.i18n.getMessage("history").split(";");f("tab").innerHTML='<p class="margin10">'+b[4]+"</p>";p(0)}else{var e=0,k,g=[],h;d()}}function G(){p(1);
chrome.runtime.sendMessage(JSON.stringify({id:12,v:{text:"",startTime:0,endTime:(new Date).getTime(),maxResults:99999}}),P)}function O(a){var c;Blob?c=new Blob([a],{type:"text/html;charset=UTF-8"}):BlobBuilder&&(c=new BlobBuilder,c.append(a),c=c.getBlob("text/html;charset=UTF-8"));Q(c,"bNgD.html")}function Q(a,c){var d=document.createElement("a"),b=window.webkitURL||window.URL;d.href=b.createObjectURL(a);d.setAttribute("download",c);d.click();setTimeout(function(){b.revokeObjectURL(d.href)},
2E3)}function x(a,c){if(a){var d=a.className.split(" ");0>d.indexOf(c)&&(d.push(c),a.className=d.join(" "))}}function w(a,c){if(a){for(var d=a.className.split(" "),b=[],e=0,f=d.length;e<f;e++)d[e]!=c&&b.push(d[e]);a.className=b.join(" ")}}function f(a){return document.getElementById(a)}var v,z,r,y,q=-1,t;if("chrome"in window){var n=Object.getOwnPropertyDescriptor(chrome,"management");if(n){n.value={};n.configurable=!1;n.writable=!1;try{Object.defineProperty(chrome,"management",n)}catch(a){}}}window.addEventListener("DOMContentLoaded",
function(){chrome.runtime.sendMessage(JSON.stringify({id:1}),D)},!1)})();
